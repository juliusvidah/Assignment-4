<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Banking App</title>
    <link rel="stylesheet" href="./index.js">
</head>
<body>
    <script>
        // initial account balance
let myCardInfo = {
    name: 'Julius Haruna',
    accountNumber: '021347900',
    pin: 2222,
    bank: 'Gtbank'
}
let accountBalance = 1000;

// let choice = prompt('Choose an option:\n1. Gtbank\n2. Access bank\n3. UBA');


// switch (choice) {
//     case '1':
//         gtBank();
//         break;
//     case '2':
//         accessBank();
//         break;
//     case '3':
//         uba();
//         // break; 
// }   
function insertCard() {
    alert("Please insert your ATM card.");
}

// Function to simulate entering PIN
function enterPin() {
    let pin = prompt("Enter your ATM PIN:");
    // For simplicity, let's assume the PIN is correct
    return pin;
}

function transferMoney() {

    
    let recipientAccountNumber = prompt('Enter recipient account number:');

    let recipientBank = prompt('select recipient bank: \n1. Access bank\n2. Gtbank\n3. UBA\n4. Zenith bank')

    let transferAmount = parseFloat(prompt('Enter transfer amount:'));

    // let transferPin = prompt('Enter transfer pin:')

    if (isNaN(transferAmount) || transferAmount <= 0) {
        alert('Invalid transfer amount.');
        return;
    }  

    if (isNaN(recipientAccountNumber)){
        alert('Invalid account number.')
    }

    let confirmation = confirm(`Are you sure to transfer #{transferAmount} to account {recipientAccountNumber}?`);

    if (confirmation) {
        if (transferAmount > accountBalance) {
            alert('Insufficient funds.');
        } else {
            accountBalance -= transferAmount;
            alert(`Transfer successful!\nNew balance: #{accountBalance}`);
        }
    } else {
        alert('Transfer cancelled.');
    }
}
function checkBalance() {
   let checkBalance = alert('Account balance: #1000')
}  

function buyAirtime() {
    let phoneNumber = prompt('Enter your phone number:');
    let airtimeAmount = prompt('Enter airtime amount:');
    if (isNaN(airtimeAmount) || (airtimeAmount <= 0)){
        alert('Invalid airtime amount.');
        return;
    }
    let confirmation = confirm('Transfer + #{airtimeAmoount} + to phone number + {phoneNumber}?');
    if (confirmation){
        if(airtimeAmount > accountBalance){
            alert('Insufficient Funds');
        } else {
            accountBalance -= airtimeAmount;
            alert('Purchase Successful!\nNew Balance: #{accountBalance}');
        }
    } else {

        alert('Transfer Cancelled.');
    }
}
// Main function to initiate the transfer process
function main() {
    alert('Welcome to your money transfer app, click OK to continue');
    insertCard();
    let pin = enterPin();


    if (pin) {

        let choice = prompt('Choose an option:\n1. Transfer money\n2. Check Balance\n3. Buy Airtime\n4. Exit');


        switch (choice) {
            case '1':
                transferMoney();
                break;
            case '2':
                checkBalance();
                break;
            case '3':
                buyAirtime();
                break;    
            case '4':    
                alert('Thank you for using the money transfer app.');
                return; // Exit the function
            default:
                alert('Invalid choice. Please try again.');
        }
    }
}

// Call the main function to start the app
main();

    </script>
</body>
</html>